<!-- PNSQC Header Navigation -->
<header id="main-header" class="fixed top-0 left-0 right-0 z-50 nav-blur bg-pnsqc-navy/80 border-b border-white/5 transition-all duration-300">
  <nav class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
    <div id="header-inner" class="flex items-center justify-between transition-all duration-300" style="height: 120px">
      <!-- Logo -->
      <a href="/" class="flex items-center group">
        <img id="header-logo" src="/images/brand/pnsqc-logo.jpg" alt="PNSQC â€” Pacific Northwest Software Quality Conference" class="w-auto rounded-lg transition-all duration-300" style="height: 108px">
      </a>

      <!-- Desktop Navigation -->
      <div class="header-menu-band hidden lg:flex items-center gap-1">
	        <!-- 2026 Conference Dropdown -->
	        <div class="relative group" data-dropdown-root>
	          <button class="header-nav-item-desktop px-2.5 py-2 text-pnsqc-slate hover:text-white transition-colors rounded-lg flex items-center gap-1">
	            2026 Conference
            <svg class="w-4 h-4" fill="none" stroke="currentColor" viewBox="0 0 24 24">
              <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 9l-7 7-7-7"/>
            </svg>
          </button>
          <!-- Dropdown Menu -->
          <div class="absolute left-0 mt-0 w-64 max-w-[calc(100vw-1rem)] opacity-0 invisible group-hover:opacity-100 group-hover:visible transition-all duration-200 z-50" data-dropdown-menu>
            <div class="mt-2 py-2 bg-pnsqc-blue border border-pnsqc-gold/20 rounded-lg shadow-xl">
              <a href="/conference/2026/venue/" class="block px-4 py-2 text-sm text-pnsqc-slate hover:text-white hover:bg-pnsqc-gold/10 transition-colors">Venue</a>
              <a href="/conference/2026/workshops/" class="block px-4 py-2 text-sm text-pnsqc-slate hover:text-white hover:bg-pnsqc-gold/10 transition-colors">Workshops</a>
              <a href="/conference/2026/keynotes-invited-speakers/" class="block px-4 py-2 text-sm text-pnsqc-slate hover:text-white hover:bg-pnsqc-gold/10 transition-colors">Keynotes &amp; Invited Speakers</a>
              <a href="/conference/2026/author-resources/" class="block px-4 py-2 text-sm text-pnsqc-slate hover:text-white hover:bg-pnsqc-gold/10 transition-colors">Author Resources</a>
            </div>
	          </div>
	        </div>

	        <a href="/stem-fair/" class="header-nav-item-desktop px-2.5 py-2 text-pnsqc-cyan hover:text-white transition-colors rounded-lg font-medium">
	          STEM Fair
	        </a>

	        <a href="/#recent-events" class="header-nav-item-desktop px-2.5 py-2 text-pnsqc-slate hover:text-white transition-colors rounded-lg">
	          <span class="inline-flex items-center gap-2">
	            Events
	            <span class="event-status event-status--active" aria-hidden="true" data-events-menu-status-dot></span>
	            <span class="sr-only" data-events-menu-status-sr>Active events</span>
	          </span>
	        </a>

        <!-- Be Involved Dropdown -->
        <div class="relative group" data-dropdown-root>
          <button class="header-nav-item-desktop px-2.5 py-2 text-pnsqc-slate hover:text-white transition-colors rounded-lg flex items-center gap-1">
            Be Involved
            <svg class="w-4 h-4" fill="none" stroke="currentColor" viewBox="0 0 24 24">
              <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 9l-7 7-7-7"/>
            </svg>
          </button>
          <div class="absolute left-0 mt-0 w-64 max-w-[calc(100vw-1rem)] opacity-0 invisible group-hover:opacity-100 group-hover:visible transition-all duration-200 z-50" data-dropdown-menu>
            <div class="mt-2 py-2 bg-pnsqc-blue border border-pnsqc-gold/20 rounded-lg shadow-xl">
              <a href="/volunteer/" class="block px-4 py-2 text-sm text-pnsqc-slate hover:text-white hover:bg-pnsqc-gold/10 transition-colors">Volunteer</a>
              <!-- Sponsor with nested submenu -->
              <div class="relative group/sponsor" data-submenu-root>
                <button class="w-full flex items-center justify-between px-4 py-2 text-sm text-pnsqc-slate hover:text-white hover:bg-pnsqc-gold/10 transition-colors">
                  Sponsor
                  <svg class="w-4 h-4" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 5l7 7-7 7"/>
                  </svg>
                </button>
                <div class="absolute left-full top-0 ml-1 w-48 max-w-[calc(100vw-1rem)] opacity-0 invisible group-hover/sponsor:opacity-100 group-hover/sponsor:visible transition-all duration-200" data-submenu-menu>
                  <div class="py-2 bg-pnsqc-blue border border-pnsqc-gold/20 rounded-lg shadow-xl">
                    <a href="/sponsor/sponsors/" class="block px-4 py-2 text-sm text-pnsqc-slate hover:text-white hover:bg-pnsqc-gold/10 transition-colors">Sponsors</a>
                    <a href="/sponsor/become-a-sponsor/" class="block px-4 py-2 text-sm text-pnsqc-slate hover:text-white hover:bg-pnsqc-gold/10 transition-colors">Become a Sponsor</a>
                  </div>
                </div>
              </div>
            </div>
          </div>
        </div>

        <!-- Archive Dropdown -->
        <div class="relative group" data-dropdown-root>
          <button class="header-nav-item-desktop px-2.5 py-2 text-pnsqc-slate hover:text-white transition-colors rounded-lg flex items-center gap-1">
            Archive
            <svg class="w-4 h-4" fill="none" stroke="currentColor" viewBox="0 0 24 24">
              <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 9l-7 7-7-7"/>
            </svg>
          </button>
          <div class="absolute left-0 mt-0 w-48 max-w-[calc(100vw-1rem)] opacity-0 invisible group-hover:opacity-100 group-hover:visible transition-all duration-200 z-50" data-dropdown-menu>
            <div class="mt-2 py-2 bg-pnsqc-blue border border-pnsqc-gold/20 rounded-lg shadow-xl">
              <!-- 2025 with nested submenu -->
              <div class="relative group/archive2025" data-submenu-root>
                <button class="w-full flex items-center justify-between px-4 py-2 text-sm text-pnsqc-slate hover:text-white hover:bg-pnsqc-gold/10 transition-colors">
                  2025
                  <svg class="w-4 h-4" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 5l7 7-7 7"/>
                  </svg>
                </button>
                <div class="absolute left-full top-0 ml-1 w-48 max-w-[calc(100vw-1rem)] opacity-0 invisible group-hover/archive2025:opacity-100 group-hover/archive2025:visible transition-all duration-200" data-submenu-menu>
                  <div class="py-2 bg-pnsqc-blue border border-pnsqc-gold/20 rounded-lg shadow-xl">
                    <a href="/conference/2025/at-a-glance/" class="block px-4 py-2 text-sm text-pnsqc-slate hover:text-white hover:bg-pnsqc-gold/10 transition-colors">At-A-Glance</a>
                  </div>
                </div>
              </div>
              <a href="/archive/proceedings/" class="block px-4 py-2 text-sm text-pnsqc-slate hover:text-white hover:bg-pnsqc-gold/10 transition-colors">Proceedings (1983-2025)</a>
            </div>
          </div>
        </div>

        <!-- About Dropdown -->
        <div class="relative group" data-dropdown-root>
          <button class="header-nav-item-desktop px-2.5 py-2 text-pnsqc-slate hover:text-white transition-colors rounded-lg flex items-center gap-1">
            About
            <svg class="w-4 h-4" fill="none" stroke="currentColor" viewBox="0 0 24 24">
              <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 9l-7 7-7-7"/>
            </svg>
          </button>
          <!-- Dropdown Menu -->
          <div class="absolute left-0 mt-0 w-64 max-w-[calc(100vw-1rem)] opacity-0 invisible group-hover:opacity-100 group-hover:visible transition-all duration-200 z-50" data-dropdown-menu>
            <div class="mt-2 py-2 bg-pnsqc-blue border border-pnsqc-gold/20 rounded-lg shadow-xl">
              <a href="/about/board_organization/" class="block px-4 py-2 text-sm text-pnsqc-slate hover:text-white hover:bg-pnsqc-gold/10 transition-colors">Board & Organization</a>

              <!-- Governance with nested submenu -->
              <div class="relative group/governance" data-submenu-root>
                <a href="/about/governance/" class="flex items-center justify-between px-4 py-2 text-sm text-pnsqc-slate hover:text-white hover:bg-pnsqc-gold/10 transition-colors">
                  Governance
                  <svg class="w-4 h-4" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 5l7 7-7 7"/>
                  </svg>
                </a>
                <!-- Nested Submenu -->
                <div class="absolute left-full top-0 ml-1 w-64 max-w-[calc(100vw-1rem)] opacity-0 invisible group-hover/governance:opacity-100 group-hover/governance:visible transition-all duration-200" data-submenu-menu>
                  <div class="py-2 bg-pnsqc-blue border border-pnsqc-gold/20 rounded-lg shadow-xl">
                    <a href="/about/governance/code-of-conduct/" class="block px-4 py-2 text-sm text-pnsqc-slate hover:text-white hover:bg-pnsqc-gold/10 transition-colors">Code of Conduct</a>
                    <a href="/about/governance/cancellation-policy/" class="block px-4 py-2 text-sm text-pnsqc-slate hover:text-white hover:bg-pnsqc-gold/10 transition-colors">Cancellation Policy</a>
                    <a href="/about/governance/generative-ai-policy/" class="block px-4 py-2 text-sm text-pnsqc-slate hover:text-white hover:bg-pnsqc-gold/10 transition-colors">Generative AI Policy</a>
                    <a href="/about/governance/conflict-of-interest-policy/" class="block px-4 py-2 text-sm text-pnsqc-slate hover:text-white hover:bg-pnsqc-gold/10 transition-colors">Conflict of Interest Policy</a>
                    <a href="/about/governance/document-retention-policy/" class="block px-4 py-2 text-sm text-pnsqc-slate hover:text-white hover:bg-pnsqc-gold/10 transition-colors">Document Retention Policy</a>
                    <a href="/about/governance/privacy-compliance-policy/" class="block px-4 py-2 text-sm text-pnsqc-slate hover:text-white hover:bg-pnsqc-gold/10 transition-colors">Privacy & Compliance Policy</a>
                    <a href="/about/governance/whistle-blower-policy/" class="block px-4 py-2 text-sm text-pnsqc-slate hover:text-white hover:bg-pnsqc-gold/10 transition-colors">Whistle Blower Policy</a>
                    <a href="/about/governance/financial-policy/" class="block px-4 py-2 text-sm text-pnsqc-slate hover:text-white hover:bg-pnsqc-gold/10 transition-colors">Financial Policy</a>
                  </div>
                </div>
              </div>

              <a href="/about/donate/" class="block px-4 py-2 text-sm text-pnsqc-slate hover:text-white hover:bg-pnsqc-gold/10 transition-colors">Donate</a>
              <a href="/about/contact/" class="block px-4 py-2 text-sm text-pnsqc-slate hover:text-white hover:bg-pnsqc-gold/10 transition-colors">Contact</a>
            </div>
          </div>
	        </div>

	        <a href="/cfp/"
	           class="ml-2 px-4 py-2 text-sm font-medium bg-pnsqc-gold text-pnsqc-navy rounded-lg hover:bg-pnsqc-gold-light transition-colors">
	          Call for Proposals
	        </a>
	        <button id="theme-toggle" class="ml-2 p-2 text-pnsqc-slate hover:text-white transition-colors rounded-lg hover:bg-white/5" aria-label="Toggle theme">
          <svg id="theme-icon-sun" class="w-5 h-5 hidden" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 3v1m0 16v1m9-9h-1M4 12H3m15.364 6.364l-.707-.707M6.343 6.343l-.707-.707m12.728 0l-.707.707M6.343 17.657l-.707.707M16 12a4 4 0 11-8 0 4 4 0 018 0z"/></svg>
          <svg id="theme-icon-moon" class="w-5 h-5 hidden" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M20.354 15.354A9 9 0 018.646 3.646 9.003 9.003 0 0012 21a9.003 9.003 0 008.354-5.646z"/></svg>
        </button>
      </div>

      <!-- Mobile Menu Button -->
      <button id="mobile-menu-btn" class="lg:hidden p-2 text-pnsqc-slate hover:text-white transition-colors" aria-label="Toggle menu">
        <svg class="w-6 h-6" fill="none" stroke="currentColor" viewBox="0 0 24 24">
          <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4 6h16M4 12h16M4 18h16"/>
        </svg>
      </button>
    </div>

	    <!-- Mobile Navigation -->
	    <div id="mobile-menu" class="hidden lg:hidden pb-4">
	      <div class="flex flex-col gap-1 pt-2 border-t border-white/10">
	        <!-- 2026 Conference Section (Expandable) -->
	        <div>
	          <button id="mobile-conference-2026-toggle" class="header-nav-item-mobile w-full flex items-center justify-between px-3 py-2 text-pnsqc-slate hover:text-white transition-colors rounded-lg">
	            <span>2026 Conference</span>
	            <svg id="mobile-conference-2026-chevron" class="w-4 h-4 transition-transform" fill="none" stroke="currentColor" viewBox="0 0 24 24">
	              <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 9l-7 7-7-7"/>
	            </svg>
	          </button>
		        <div id="mobile-conference-2026-submenu" class="hidden ml-4 flex flex-col gap-1 mt-1">
		            <a href="/conference/2026/venue/" class="px-3 py-2 text-sm text-pnsqc-slate hover:text-white transition-colors rounded-lg hover:bg-white/5">Venue</a>
		            <a href="/conference/2026/workshops/" class="px-3 py-2 text-sm text-pnsqc-slate hover:text-white transition-colors rounded-lg hover:bg-white/5">Workshops</a>
		            <a href="/conference/2026/keynotes-invited-speakers/" class="px-3 py-2 text-sm text-pnsqc-slate hover:text-white transition-colors rounded-lg hover:bg-white/5">Keynotes &amp; Invited Speakers</a>
		            <a href="/conference/2026/author-resources/" class="px-3 py-2 text-sm text-pnsqc-slate hover:text-white transition-colors rounded-lg hover:bg-white/5">Author Resources</a>
		          </div>
		        </div>

		        <a href="/stem-fair/" class="header-nav-item-mobile px-3 py-2 text-pnsqc-cyan hover:text-white transition-colors rounded-lg font-medium">
		          STEM Fair
		        </a>

		        <a href="/#recent-events" class="header-nav-item-mobile px-3 py-2 text-pnsqc-slate hover:text-white transition-colors rounded-lg">
		          <span class="inline-flex items-center gap-2">
		            Events
		            <span class="event-status event-status--active" aria-hidden="true" data-events-menu-status-dot></span>
		            <span class="sr-only" data-events-menu-status-sr>Active events</span>
		          </span>
		        </a>

          <!-- Be Involved Section (Expandable) -->
          <div>
            <button id="mobile-involved-toggle" class="header-nav-item-mobile w-full flex items-center justify-between px-3 py-2 text-pnsqc-slate hover:text-white transition-colors rounded-lg">
              <span>Be Involved</span>
              <svg id="mobile-involved-chevron" class="w-4 h-4 transition-transform" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 9l-7 7-7-7"/>
              </svg>
            </button>
            <div id="mobile-involved-submenu" class="hidden ml-4 flex flex-col gap-1 mt-1">
              <a href="/volunteer/" class="px-3 py-2 text-sm text-pnsqc-slate hover:text-white transition-colors rounded-lg hover:bg-white/5">Volunteer</a>
              <!-- Sponsor Section (Expandable) -->
              <div>
                <button id="mobile-sponsor-toggle" class="w-full flex items-center justify-between px-3 py-2 text-sm text-pnsqc-slate hover:text-white transition-colors rounded-lg hover:bg-white/5">
                  <span>Sponsor</span>
                  <svg id="mobile-sponsor-chevron" class="w-4 h-4 transition-transform" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 9l-7 7-7-7"/>
                  </svg>
                </button>
                <div id="mobile-sponsor-submenu" class="hidden ml-4 flex flex-col gap-1 mt-1">
                  <a href="/sponsor/sponsors/" class="px-3 py-2 text-sm text-pnsqc-slate hover:text-white transition-colors rounded-lg hover:bg-white/5">Sponsors</a>
                  <a href="/sponsor/become-a-sponsor/" class="px-3 py-2 text-sm text-pnsqc-slate hover:text-white transition-colors rounded-lg hover:bg-white/5">Become a Sponsor</a>
                </div>
              </div>
            </div>
          </div>

          <!-- Archive Section (Expandable) -->
          <div>
            <button id="mobile-archive-toggle" class="header-nav-item-mobile w-full flex items-center justify-between px-3 py-2 text-pnsqc-slate hover:text-white transition-colors rounded-lg">
              <span>Archive</span>
              <svg id="mobile-archive-chevron" class="w-4 h-4 transition-transform" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 9l-7 7-7-7"/>
              </svg>
            </button>
            <div id="mobile-archive-submenu" class="hidden ml-4 flex flex-col gap-1 mt-1">
              <!-- 2025 Section (Expandable) -->
              <div>
                <button id="mobile-archive-2025-toggle" class="w-full flex items-center justify-between px-3 py-2 text-sm text-pnsqc-slate hover:text-white transition-colors rounded-lg hover:bg-white/5">
                  <span>2025</span>
                  <svg id="mobile-archive-2025-chevron" class="w-4 h-4 transition-transform" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 9l-7 7-7-7"/>
                  </svg>
                </button>
                <div id="mobile-archive-2025-submenu" class="hidden ml-4 flex flex-col gap-1 mt-1">
                  <a href="/conference/2025/at-a-glance/" class="px-3 py-2 text-sm text-pnsqc-slate hover:text-white transition-colors rounded-lg hover:bg-white/5">At-A-Glance</a>
                </div>
              </div>
              <a href="/archive/proceedings/" class="px-3 py-2 text-sm text-pnsqc-slate hover:text-white transition-colors rounded-lg hover:bg-white/5">Proceedings (1983-2025)</a>
            </div>
          </div>

	        <!-- About Section (Expandable) -->
	        <div>
	          <button id="mobile-about-toggle" class="header-nav-item-mobile w-full flex items-center justify-between px-3 py-2 text-pnsqc-slate hover:text-white transition-colors rounded-lg">
	            <span>About</span>
            <svg id="mobile-about-chevron" class="w-4 h-4 transition-transform" fill="none" stroke="currentColor" viewBox="0 0 24 24">
              <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 9l-7 7-7-7"/>
            </svg>
          </button>
          <div id="mobile-about-submenu" class="hidden ml-4 flex flex-col gap-1 mt-1">
            <a href="/about/board_organization/" class="px-3 py-2 text-sm text-pnsqc-slate hover:text-white transition-colors rounded-lg hover:bg-white/5">Board & Organization</a>

            <!-- Governance Section (Expandable) -->
            <div>
              <button id="mobile-governance-toggle" class="w-full flex items-center justify-between px-3 py-2 text-sm text-pnsqc-slate hover:text-white transition-colors rounded-lg hover:bg-white/5">
                <span>Governance</span>
                <svg id="mobile-governance-chevron" class="w-4 h-4 transition-transform" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                  <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 9l-7 7-7-7"/>
                </svg>
              </button>
              <div id="mobile-governance-submenu" class="hidden ml-4 flex flex-col gap-1 mt-1">
                <a href="/about/governance/" class="px-3 py-2 text-sm text-pnsqc-cyan hover:text-white transition-colors rounded-lg hover:bg-white/5">Overview</a>
                <a href="/about/governance/code-of-conduct/" class="px-3 py-2 text-sm text-pnsqc-slate hover:text-white transition-colors rounded-lg hover:bg-white/5">Code of Conduct</a>
                <a href="/about/governance/cancellation-policy/" class="px-3 py-2 text-sm text-pnsqc-slate hover:text-white transition-colors rounded-lg hover:bg-white/5">Cancellation Policy</a>
                <a href="/about/governance/generative-ai-policy/" class="px-3 py-2 text-sm text-pnsqc-slate hover:text-white transition-colors rounded-lg hover:bg-white/5">Generative AI Policy</a>
                <a href="/about/governance/conflict-of-interest-policy/" class="px-3 py-2 text-sm text-pnsqc-slate hover:text-white transition-colors rounded-lg hover:bg-white/5">Conflict of Interest</a>
                <a href="/about/governance/document-retention-policy/" class="px-3 py-2 text-sm text-pnsqc-slate hover:text-white transition-colors rounded-lg hover:bg-white/5">Document Retention</a>
                <a href="/about/governance/privacy-compliance-policy/" class="px-3 py-2 text-sm text-pnsqc-slate hover:text-white transition-colors rounded-lg hover:bg-white/5">Privacy & Compliance</a>
                <a href="/about/governance/whistle-blower-policy/" class="px-3 py-2 text-sm text-pnsqc-slate hover:text-white transition-colors rounded-lg hover:bg-white/5">Whistle Blower</a>
                <a href="/about/governance/financial-policy/" class="px-3 py-2 text-sm text-pnsqc-slate hover:text-white transition-colors rounded-lg hover:bg-white/5">Financial Policy</a>
              </div>
            </div>

            <a href="/about/donate/" class="px-3 py-2 text-sm text-pnsqc-slate hover:text-white transition-colors rounded-lg hover:bg-white/5">Donate</a>
            <a href="/about/contact/" class="px-3 py-2 text-sm text-pnsqc-slate hover:text-white transition-colors rounded-lg hover:bg-white/5">Contact</a>
          </div>
	        </div>

	        <a href="/cfp/"
	           class="mt-2 px-4 py-2 text-sm font-medium bg-pnsqc-gold text-pnsqc-navy rounded-lg text-center hover:bg-pnsqc-gold-light transition-colors">
	          Call for Proposals
	        </a>
	        <button id="theme-toggle-mobile" class="mt-2 flex items-center gap-2 px-3 py-2 text-sm text-pnsqc-slate hover:text-white transition-colors rounded-lg hover:bg-white/5" aria-label="Toggle theme">
          <svg id="theme-icon-sun-mobile" class="w-5 h-5 hidden" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 3v1m0 16v1m9-9h-1M4 12H3m15.364 6.364l-.707-.707M6.343 6.343l-.707-.707m12.728 0l-.707.707M6.343 17.657l-.707.707M16 12a4 4 0 11-8 0 4 4 0 018 0z"/></svg>
          <svg id="theme-icon-moon-mobile" class="w-5 h-5 hidden" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M20.354 15.354A9 9 0 018.646 3.646 9.003 9.003 0 0012 21a9.003 9.003 0 008.354-5.646z"/></svg>
          <span>Toggle Theme</span>
        </button>
      </div>
    </div>
  </nav>
  <script>
    (() => {
      // Tailwind safelist (classes toggled via JS):
      // right-0 right-auto left-0 left-auto right-full left-full mr-1 ml-1 mr-0 ml-0

      const VIEWPORT_PADDING_PX = 8;

      const isVisibleInDom = (el) => !!el && el.nodeType === Node.ELEMENT_NODE;

      const applyDropdownAlign = (menuEl, align) => {
        if (!isVisibleInDom(menuEl)) return;
        const alignRight = align === 'right';
        menuEl.classList.toggle('left-0', !alignRight);
        menuEl.classList.toggle('right-0', alignRight);
        menuEl.classList.toggle('left-auto', alignRight);
        menuEl.classList.toggle('right-auto', !alignRight);
      };

      const fitDropdownToViewport = (menuEl) => {
        if (!isVisibleInDom(menuEl)) return;
        applyDropdownAlign(menuEl, 'left');
        let rect = menuEl.getBoundingClientRect();
        if (rect.right > window.innerWidth - VIEWPORT_PADDING_PX) {
          applyDropdownAlign(menuEl, 'right');
          rect = menuEl.getBoundingClientRect();
        }
        if (rect.left < VIEWPORT_PADDING_PX) applyDropdownAlign(menuEl, 'left');
      };

      const applyFlyoutDirection = (menuEl, direction) => {
        if (!isVisibleInDom(menuEl)) return;
        const openLeft = direction === 'left';

        menuEl.classList.toggle('left-full', !openLeft);
        menuEl.classList.toggle('right-full', openLeft);
        menuEl.classList.toggle('ml-1', !openLeft);
        menuEl.classList.toggle('mr-1', openLeft);

        menuEl.classList.toggle('left-auto', openLeft);
        menuEl.classList.toggle('right-auto', !openLeft);
        menuEl.classList.toggle('ml-0', openLeft);
        menuEl.classList.toggle('mr-0', !openLeft);
      };

      const fitFlyoutToViewport = (menuEl) => {
        if (!isVisibleInDom(menuEl)) return;
        applyFlyoutDirection(menuEl, 'right');
        let rect = menuEl.getBoundingClientRect();
        if (rect.right > window.innerWidth - VIEWPORT_PADDING_PX) {
          applyFlyoutDirection(menuEl, 'left');
          rect = menuEl.getBoundingClientRect();
        }
        if (rect.left < VIEWPORT_PADDING_PX) applyFlyoutDirection(menuEl, 'right');
      };

      const setupDesktopMenuViewportAwareness = () => {
        const dropdownRoots = Array.from(document.querySelectorAll('[data-dropdown-root]'));
        const submenuRoots = Array.from(document.querySelectorAll('[data-submenu-root]'));

        const handlers = [];

        for (const root of dropdownRoots) {
          const menu = root.querySelector('[data-dropdown-menu]');
          if (!menu) continue;

          const handler = () => fitDropdownToViewport(menu);
          root.addEventListener('mouseenter', handler);
          root.addEventListener('focusin', handler);
          handlers.push(handler);
        }

        for (const root of submenuRoots) {
          const menu = root.querySelector('[data-submenu-menu]');
          if (!menu) continue;

          const handler = () => fitFlyoutToViewport(menu);
          root.addEventListener('mouseenter', handler);
          root.addEventListener('focusin', handler);
          handlers.push(handler);
        }

        window.addEventListener('resize', () => {
          for (const root of dropdownRoots) {
            const menu = root.querySelector('[data-dropdown-menu]');
            if (menu) fitDropdownToViewport(menu);
          }
          for (const root of submenuRoots) {
            const menu = root.querySelector('[data-submenu-menu]');
            if (menu) fitFlyoutToViewport(menu);
          }
        });
      };

      setupDesktopMenuViewportAwareness();

      // Header shrink on scroll
      const headerInner = document.getElementById('header-inner');
      const headerLogo = document.getElementById('header-logo');

      if (headerInner && headerLogo) {
        window.addEventListener('scroll', () => {
          if (window.scrollY > 10) {
            headerInner.style.height = '64px';
            headerLogo.style.height = '58px'; // 90% of 64px
          } else {
            headerInner.style.height = '120px';
            headerLogo.style.height = '108px'; // 90% of 120px
          }
        });
      }

      // Mobile main menu toggle
      const mobileMenuBtn = document.getElementById('mobile-menu-btn');
      const mobileMenu = document.getElementById('mobile-menu');
      if (mobileMenuBtn && mobileMenu) {
        mobileMenuBtn.addEventListener('click', () => {
          mobileMenu.classList.toggle('hidden');
        });
      }

	      // Mobile About menu toggle
	      const mobileAboutToggle = document.getElementById('mobile-about-toggle');
	      const mobileAboutSubmenu = document.getElementById('mobile-about-submenu');
	      const mobileAboutChevron = document.getElementById('mobile-about-chevron');

	      if (mobileAboutToggle && mobileAboutSubmenu && mobileAboutChevron) {
	        mobileAboutToggle.addEventListener('click', () => {
	          mobileAboutSubmenu.classList.toggle('hidden');
	          mobileAboutChevron.classList.toggle('rotate-180');
	        });
	      }

	      // Mobile 2026 Conference menu toggle
	      const mobileConference2026Toggle = document.getElementById('mobile-conference-2026-toggle');
	      const mobileConference2026Submenu = document.getElementById('mobile-conference-2026-submenu');
	      const mobileConference2026Chevron = document.getElementById('mobile-conference-2026-chevron');

	      if (mobileConference2026Toggle && mobileConference2026Submenu && mobileConference2026Chevron) {
	        mobileConference2026Toggle.addEventListener('click', () => {
	          mobileConference2026Submenu.classList.toggle('hidden');
	          mobileConference2026Chevron.classList.toggle('rotate-180');
	        });
	      }

      // Mobile Archive menu toggle
      const mobileArchiveToggle = document.getElementById('mobile-archive-toggle');
      const mobileArchiveSubmenu = document.getElementById('mobile-archive-submenu');
      const mobileArchiveChevron = document.getElementById('mobile-archive-chevron');

      if (mobileArchiveToggle && mobileArchiveSubmenu && mobileArchiveChevron) {
        mobileArchiveToggle.addEventListener('click', () => {
          mobileArchiveSubmenu.classList.toggle('hidden');
          mobileArchiveChevron.classList.toggle('rotate-180');
        });
      }

      // Mobile Archive 2025 menu toggle
      const mobileArchive2025Toggle = document.getElementById('mobile-archive-2025-toggle');
      const mobileArchive2025Submenu = document.getElementById('mobile-archive-2025-submenu');
      const mobileArchive2025Chevron = document.getElementById('mobile-archive-2025-chevron');

      if (mobileArchive2025Toggle && mobileArchive2025Submenu && mobileArchive2025Chevron) {
        mobileArchive2025Toggle.addEventListener('click', () => {
          mobileArchive2025Submenu.classList.toggle('hidden');
          mobileArchive2025Chevron.classList.toggle('rotate-180');
        });
      }

      // Mobile Be Involved menu toggle
      const mobileInvolvedToggle = document.getElementById('mobile-involved-toggle');
      const mobileInvolvedSubmenu = document.getElementById('mobile-involved-submenu');
      const mobileInvolvedChevron = document.getElementById('mobile-involved-chevron');

      if (mobileInvolvedToggle && mobileInvolvedSubmenu && mobileInvolvedChevron) {
        mobileInvolvedToggle.addEventListener('click', () => {
          mobileInvolvedSubmenu.classList.toggle('hidden');
          mobileInvolvedChevron.classList.toggle('rotate-180');
        });
      }

      // Mobile Sponsor menu toggle (nested under Be Involved)
      const mobileSponsorToggle = document.getElementById('mobile-sponsor-toggle');
      const mobileSponsorSubmenu = document.getElementById('mobile-sponsor-submenu');
      const mobileSponsorChevron = document.getElementById('mobile-sponsor-chevron');

      if (mobileSponsorToggle && mobileSponsorSubmenu && mobileSponsorChevron) {
        mobileSponsorToggle.addEventListener('click', () => {
          mobileSponsorSubmenu.classList.toggle('hidden');
          mobileSponsorChevron.classList.toggle('rotate-180');
        });
      }

	      // Mobile Governance menu toggle
	      const mobileGovernanceToggle = document.getElementById('mobile-governance-toggle');
	      const mobileGovernanceSubmenu = document.getElementById('mobile-governance-submenu');
	      const mobileGovernanceChevron = document.getElementById('mobile-governance-chevron');

      if (mobileGovernanceToggle && mobileGovernanceSubmenu && mobileGovernanceChevron) {
        mobileGovernanceToggle.addEventListener('click', () => {
          mobileGovernanceSubmenu.classList.toggle('hidden');
          mobileGovernanceChevron.classList.toggle('rotate-180');
        });
      }

      // Theme switcher
      const themeToggle = document.getElementById('theme-toggle');
      const themeToggleMobile = document.getElementById('theme-toggle-mobile');
      const sunIcon = document.getElementById('theme-icon-sun');
      const moonIcon = document.getElementById('theme-icon-moon');
      const sunIconMobile = document.getElementById('theme-icon-sun-mobile');
      const moonIconMobile = document.getElementById('theme-icon-moon-mobile');

      const setIconState = (theme) => {
        const isLight = theme === 'light';
        sunIcon?.classList.toggle('hidden', !isLight);
        moonIcon?.classList.toggle('hidden', isLight);
        sunIconMobile?.classList.toggle('hidden', !isLight);
        moonIconMobile?.classList.toggle('hidden', isLight);
      };

      const getStoredTheme = () => {
        try {
          const theme = localStorage.getItem('theme');
          return theme === 'light' || theme === 'dark' ? theme : null;
        } catch {
          return null;
        }
      };

      const storeTheme = (theme) => {
        try {
          localStorage.setItem('theme', theme);
        } catch {
          // ignore
        }
      };

      const getDefaultTheme = () => {
        if (window.matchMedia?.('(prefers-color-scheme: light)').matches) return 'light';
        return 'dark';
      };

      const applyTheme = (theme) => {
        document.documentElement.setAttribute('data-theme', theme);
        setIconState(theme);
        storeTheme(theme);
      };

      const initialTheme = getStoredTheme() || getDefaultTheme();
      applyTheme(initialTheme);

      const toggleTheme = () => {
        const theme = document.documentElement.getAttribute('data-theme');
        const newTheme = theme === 'light' ? 'dark' : 'light';
        applyTheme(newTheme);
      };

      themeToggle?.addEventListener('click', toggleTheme);
      themeToggleMobile?.addEventListener('click', toggleTheme);
    })();
  </script>
</header>
